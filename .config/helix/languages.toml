[[language]]
name = "toml"
# https://github.com/tamasfe/taplo/issues/580#issuecomment-2004174721
roots = ["."]
language-servers = ["taplo"]
formatter = { command = "taplo", args = ["format", "-"] }
auto-format = true

[[language]]
name = "json"
auto-format = false

# https://github.com/denoland/docs/blob/732aefa4b1b5ed15b4aad8310460e3d339401e67/runtime/getting_started/setup_your_environment.md#helix
[[language]]
name = "typescript"
# why no `tsconfig`?
roots = ["deno.json", "deno.jsonc", "package.json"]
file-types = ["ts"]
auto-format = true
language-servers = ["deno-lsp"]

[[language]]
name = "javascript"
# why no `jsconfig`?
roots = ["deno.json", "deno.jsonc", "package.json"]
file-types = ["js"]
language-servers = ["deno-lsp"]

[language-server.deno-lsp]
command = "deno"
args = ["lsp"]
config.deno.enable = true
[language-server.deno-lsp.config.deno.inlayHints]
enumMemberValues.enabled = true
functionLikeReturnTypes.enabled = true
parameterNames.enabled = "all"
parameterTypes.enabled = true
propertyDeclarationTypes.enabled = true
variableTypes.enabled = true

# `indent` controlled by `rustfmt`
[language-server.rust-analyzer.config.check]
command = "clippy"
workspace = false
[language-server.rust-analyzer.config.cachePriming]
enable = false

[[language]]
name = "markdown"
word-completion.trigger-length = 1

[[language]]
name = "html"
# rm vscode
language-servers = ["superhtml"]
